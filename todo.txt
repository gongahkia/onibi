(B) Replace Array-based PerformanceMonitor.samples in BackgroundTaskScheduler.swift with circular buffer to avoid array resizing +performance
(B) Add periodic cleanup of recentHashes in FalsePositiveReducer.swift via timer instead of scanning on every shouldSuppress call +performance
(B) Move SoundEffects.play calls in UIUtilities.swift to background thread to prevent main thread blocking +performance
(B) Add [weak self] capture to all Timer and DispatchQueue closures in BackgroundTaskScheduler.swift, SessionManager.swift, LogFileTruncator.swift to prevent retain cycles +stability
(B) Add max notification count setting to Settings (default 100 for casual, 500 for powerUser) instead of hardcoded 100 in NotificationViewModel +feature
(B) Persist FalsePositiveReducer dismissalCounts to UserDefaults so adaptive throttling survives app restart +feature
(B) Add regex pattern validation with user feedback in SettingsView.swift filter rule editor — show error if pattern is invalid before saving +feature
(B) Guard against negative fontSize values in GhosttyConfigParser.swift parseColor/value parsing with validation +stability
(B) Remove duplicate shell hook installation check — current alreadyInstalled in ShellHookInstaller.swift uses broad string contains match that can false positive on partial matches; use exact marker line match +stability
(B) Add verify step after shell hook install in ShellHookInstaller.swift that cleans up the test log entry it writes +stability
(B) Fix ShellHookInstaller.swift uninstall to preserve existing newlines — current aggressive newline removal can break rc file formatting +stability
(B) Add backup rotation (keep last 3 backups) in ShellHookInstaller.swift instead of single backup that gets overwritten +stability
(B) Add PROMPT_COMMAND collision check in FileWatcher.swift bash hook — check if already set before appending to avoid double-execution +stability
(B) Fix badge count in MenuBarController.swift — add decrementNotificationCount method called on dismiss and wire clearAll to reset to zero +stability
(B) Stop ShimmerEffect repeatForever animation in UIUtilities.swift when the loading state ends — use conditional animation modifier +performance
(B) Make SuccessToast auto-dismiss duration configurable via parameter instead of hardcoded 2s in UIUtilities.swift +refactor
(B) Add SwiftLint configuration file .swiftlint.yml with project-specific rules to make CI lint step pass consistently instead of continue-on-error +infra
(B) Add test target to Package.swift referencing GhosttyMenubarTests directory so tests can run via swift test as well as xcodebuild +infra
(B) Add unit tests for JSONStorageManager — test atomic write, backup recovery, cache flush, concurrent access +infra
(B) Add unit tests for FalsePositiveReducer — test deduplication window, confidence scoring, suppression patterns +infra
(B) Add unit tests for SessionManager — test session creation, activity recording, inactive pruning, cleanup +infra
(B) Add unit tests for GhosttyConfigParser — test key=value parsing, key-value parsing, color parsing, invalid input +infra
(B) Add unit tests for ShellHookInstaller — test install/uninstall for each shell, backup creation, collision detection +infra
(B) Add integration test that exercises full pipeline: write log line → FileWatcher detects → LogBuffer reads → EventDetector matches → notification emitted +infra
(B) Add DMG code signing step to ci.yml release job using Developer ID certificate for Gatekeeper compatibility +infra
(B) Add notarization step to ci.yml release job using xcrun notarytool so users don't get Gatekeeper warnings +infra
(B) Pin macos-latest to macos-14 in ci.yml to prevent CI breakage when GitHub updates runner images +infra
(B) Add Xcode version matrix (15.0, 15.4) to ci.yml build-and-test job for forward compatibility testing +infra
(B) Add GhosttyCliService.isGhosttyInstalled() check that verifies `ghostty` binary exists in PATH and returns version string +feature +integration
(B) Show Ghostty version and config path in SettingsView.swift About tab via GhosttyCliService for user diagnostics +feature +integration
(B) Add "Open Ghostty Config" button in SettingsView.swift that opens Ghostty config file in default editor via NSWorkspace +feature
(B) Add "Copy Diagnostics" button in SettingsView.swift About tab that copies app version, Ghostty version, macOS version, log path to clipboard for bug reports +feature
(B) Add menubar icon state for "Ghostty not running" vs "monitoring active" vs "new notifications" with distinct SF Symbol variants +feature
(B) Add relative timestamp refresh timer in MenuBarView.swift NotificationCard so "2 min ago" updates without requiring scroll +feature
(B) Limit ErrorReporter.swift stack trace capture to error severity only instead of all log entries to reduce overhead +performance
(B) Add DependencyContainer cycle detection — track resolve stack and throw if same type requested recursively +stability
